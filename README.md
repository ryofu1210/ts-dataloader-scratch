# DataLoaderの擬似コード

# DataLoaderの仕組み
1. キューの利用
DataLoaderは、データを取得するリクエストをキューに追加します。このキューは、同じイベントループターン内で複数のリクエストがある場合に、それらをまとめる役割を果たします。

2. バッチ処理
イベントループの1ターンが終了すると、DataLoaderはキューに溜まったリクエストを1つのバッチにまとめて処理します。このバッチ処理により、複数の関連データを1回のデータソースへのアクセスで取得できるため、N+1問題が解消されます。

3. バッチ関数
DataLoaderは、バッチ関数を使用して、実際にデータを取得します。バッチ関数は、キューに溜まった複数のキーに対応するデータを一度に取得する役割を担います。これにより、データソースへのアクセス回数が削減され、パフォーマンスが向上します。

4. キャッシング
DataLoaderは、キャッシュ機能を提供します。キャッシュを使用すると、同じキーに対して複数回リクエストがあった場合、キャッシュからデータを取得できるため、データソースへのアクセス回数がさらに削減されます。

これらの仕組みにより、DataLoaderはN+1問題を解消し、効率的なデータ取得を実現します。


# 実行方法

```
npm install
npx ts-node ./main.ts
```
